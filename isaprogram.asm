.ORIG x3000
	BRP L1
	BRZ L1
A	ADD R1, R0, #1
	BRP L2
B 	BRNP L3
C 	BRZP L4
D 	BRNZP L5
E 	XOR R4, R3, #-13
	BRN L6
F	BRNZ L7
G	BR L8
H	NOT R5, R4
	LEA R0, ONE
	LDW R6, R0, #1
	LDB R5, R0, #1
	AND R3, R3, #0
	LEA R3, THREE
	LDW R3, R3, #0
	STB R6, R3, #-1
	STB R6, R3, #-2
	STB R6, R3, #0
	STW R5, R3, #1
	JSR SUB
	LEA R3, FOUR
	LDW R3, R3, #0
	JSRR R3
	BRNZP DO
SUB 	AND R2, R2, #0
	AND R3, R3, #0
	ADD R2, R2, #1
	LSHF R2, R2, #15
	RSHFL R3, R2, #2
	RSHFA R4, R2, #4
	RET
	NOT R4, R4
	RET
L1 	BR A
L2 	BR B
L3 	BR C
L4 	BR D
L5 	BR E
L6 	BR F
L7 	BR G
L8 	BR H
DO 	HALT
ONE 	.FILL x8B7A
TWO 	.FILL x573F
THREE .FILL x3006
FOUR 	.FILL x3042
.END
